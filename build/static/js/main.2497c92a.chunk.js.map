{"version":3,"sources":["Components/NavBar.js","Components/Home.js","Components/classification/PredictionChart.js","Components/classification/HistogramChart.js","Components/classification/FeatureImportanceChart.js","Components/classification/Intro.js","Components/classification/Description.js","Components/classification/DescriptionPart2.js","Components/classification/DescriptionPart3.js","Components/classification/spotify_search/SearchTrack.js","Components/classification/spotify_search/TrackProbChart.js","Components/classification/spotify_search/TrackProfile.js","Components/classification/spotify_search/Search.js","Components/classification/Classification.js","Components/Pitchfork.js","Components/TopicChart.js","Components/Word2VecChart.js","Components/ComparingScore.js","Components/FinalProject.js","App.js","serviceWorker.js","index.js"],"names":["NavBar","react_default","a","createElement","id","react_router_dom","className","to","Component","Home","initalData","genre","value","options","label","PredictionChart","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","data","select","d3","precision","handleChange","evt","setState","updateBarChart","recall","_this$state$d3Info","d3Info","xScale","yScale","continentColor","recallLabel","precisionLabel","g","height","valuesGroup","dataRaw","cleanData","bars","selectAll","values","exit","attr","remove","enter","append","d","merge","transition","duration","bandwidth","text","Math","round","forEach","el","toString","length","concat","createBarChart","bind","assertThisInitialized","ticks","total","i","push","node","margin","width","domain","range","padding","xAxisGroup","style","yAxisGroup","xAxisCall","tickFormat","yAxisCall","on","_this2","color","marginBottom","react_select_esm","onChange","defaultValue","theme","objectSpread","colors","primary25","primary75","primary50","primary","ref","genreArray","features","featureNames","hexToRgb","hex","result","exec","r","parseInt","b","HistogramChart","genres","keys","output","y","x","genreData","j","tempObj","allX","map","max","apply","toConsumableArray","createLineChart","t","classed","xLabel","yLabel","line","curve","datum","_hexToRgb","_hexToRgb2","_hexToRgb3","_hexToRgb4","thisGenre","replace","path","numIterator","newDatum","legend","_hexToRgb5","_hexToRgb6","_hexToRgb7","_hexToRgb8","updateLineChart","_this$state","dataFeature","dataClean","xDomainArray","yDomainArray","genreKeys","k","_hexToRgb9","_hexToRgb10","_hexToRgb11","_hexToRgb12","_hexToRgb13","_hexToRgb14","idx","Fragment","fontSize","featuresNameObj","danceability","energy","acousticness","speechiness","valence","loudness","instrumentalness","tempo","end_of_fade_in","start_of_fade_out","tempo_confidence","liveness","time_signature_confidence","time_signature","FeatureImportanceChart","featureImportance","sort","importance","feature","Intro","HistogramChart_HistogramChart","histogram","Description","DescriptionPart2","DescriptionPart3","SearchTrack","onSubmit","handleSubmitSong","name","songQuery","type","TrackProbChart","err","console","error","track","artist","artists","TrackProfile","uri","albumImageURI","slice","onClick","handleClick","album","images","url","src","alt","Search","_ref","asyncToGenerator","regenerator_default","mark","_callee","event","songQueryURI","response","tracks","wrap","_context","prev","next","preventDefault","encodeURIComponent","fetch","sent","json","selected","probs","t0","message","log","stop","_x","arguments","defineProperty","target","_ref2","_callee2","_context2","trackInfo","track_info","_x2","_x3","assign","key","spotify_search_TrackProbChart","Classification","wrongPrediction","paddingBottom","classification_PredictionChart","FeatureImportanceChart_FeatureImportanceChart","Search_Search","Pitchfork","TopicChart_TopicChart","ComparingScore_ComparingScore","Word2VecChart_Word2VecChart","TopicChart","createBars","rawData","topics","row","sum","Sound","Artist","formatData","topic","res","Word2VecChart","previousData","searchTerm","createScatterPlot","labels","updateScatterPlot","_this$state$d3Stuff","d3Stuff","ys","xs","labelsArr","point","xMax","yMax","xMin","yMin","splice","indexOf","paddingTop","ComparingScore","types","FinalProject","songs","uploading","songsData","playlist","file","files","reader","FileReader","readAsDataURL","onload","formData","method","body","JSON","stringify","then","handleSubmit","controls","_el$split$1$split","split","_el$split$1$split2","slicedToArray","song","_el$split$1$split3","_el$split$1$split4","_el$split$1$split5","_el$split$1$split6","App","NavBar_NavBar","react_router","exact","component","PitchFork","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2497c92a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default class NavBar extends Component {\n  render() {\n    return (\n      <header id=\"navbar\">\n        {/* <Link className=\"link\" to=\"/about\">\n          Thesis\n        </Link> */}\n        <Link className=\"link\" to=\"/\">\n          Home\n        </Link>\n        <Link className=\"link\" to=\"/classification\">\n          Classification\n        </Link>\n        {/* <Link className=\"link\" to=\"/predict\">\n          Predict\n        </Link> */}\n        <Link className=\"link\" to=\"/pitchfork\">\n          NLP Pitchfork\n        </Link>\n        {/* <Link className=\"link\" to=\"/finalProject\">\n          Final Project\n        </Link> */}\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Home extends Component {\n  render() {\n    return <div>Home Page</div>;\n  }\n}\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport Select from 'react-select';\n\nconst initalData = [\n  { genre: 'classical', value: 0 },\n  { genre: 'jazz', value: 0 },\n  { genre: 'reggae', value: 0 },\n  { genre: 'rap', value: 0 },\n  { genre: 'rock', value: 0 },\n  { genre: 'dance', value: 0 },\n];\n\nconst genre = ['classical', 'jazz', 'reggae', 'rap', 'rock', 'dance'];\nconst options = [\n  { value: 'classical', label: 'Classical' },\n  { value: 'jazz', label: 'Jazz' },\n  { value: 'reggae', label: 'Reggae' },\n  { value: 'rap', label: 'Rap' },\n  { value: 'rock', label: 'Rock' },\n  { value: 'dance', label: 'Dance' },\n];\n\nclass PredictionChart extends Component {\n  state = {\n    data: [],\n    select: 'classical',\n    d3: {},\n    precision: {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.createBarChart = this.createBarChart.bind(this);\n  }\n\n  componentDidMount() {\n    const data = this.props.data;\n    const d3Info = this.createBarChart();\n    const precision = this.props.precision;\n    this.setState({ data, d3Info, precision });\n  }\n  componentDidUpdate() {\n    this.updateBarChart();\n  }\n\n  handleChange = evt => {\n    this.setState({ select: evt.value });\n  };\n\n  cleanData(data, select) {\n    const ticks = [];\n    let total = 0;\n    for (let i = 0; i < genre.length; i++) {\n      if (data[genre[i]]) {\n        total += data[genre[i]];\n        ticks.push({ value: data[genre[i]], genre: genre[i] });\n      } else {\n        ticks.push({ value: 0, genre: genre[i] });\n      }\n    }\n    for (let i = 0; i < ticks.length; i++) {\n      if (ticks[i]['genre'] === select) {\n        ticks[i]['value'] = 1 - total;\n      }\n    }\n    return ticks;\n  }\n\n  createBarChart() {\n    // const { select } = this.state;\n    const node = this.node;\n    const margin = { left: 80, right: 20, top: 50, bottom: 100 };\n    const width = 1000 - margin.left - margin.right,\n      height = 600 - margin.top - margin.bottom;\n    const g = d3\n      .select(node)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n    const xScale = d3\n      .scaleBand()\n      .domain(genre)\n      .range([0, width])\n      .padding(0.2);\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, 1])\n      .range([height, 0]);\n    const continentColor = d3.scaleOrdinal(d3.schemePastel1);\n    const xAxisGroup = g\n      .append('g')\n      .attr('class', 'x axis')\n      .style('font-size', '14')\n      .attr('transform', `translate(0, ${height})`);\n    const yAxisGroup = g\n      .append('g')\n      .attr('class', 'y axis')\n      .style('font-size', '14');\n    const xAxisCall = d3.axisBottom(xScale).tickFormat(d => d);\n    xAxisGroup.call(xAxisCall);\n    const yAxisCall = d3.axisLeft(yScale);\n    yAxisGroup.call(yAxisCall);\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', height + 50)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .text('Genre');\n    g.append('text')\n      .attr('x', -(height / 2))\n      .attr('y', -60)\n      .attr('text-anchor', 'middle')\n      .attr('transform', 'rotate(-90)')\n      .attr('fill', 'grey')\n      .text('Predicted Percentage');\n\n    const precisionLabel = g\n      .append('text')\n      .attr('text-anchor', 'end')\n      .attr('x', width)\n      .attr('y', 0)\n      .attr('text-anchor', 'end')\n      .attr('fill', 'grey')\n      .text(`Precision: ${0}`);\n\n    const recallLabel = g\n      .append('text')\n      .attr('text-anchor', 'start')\n      .attr('x', width)\n      .attr('y', 25)\n      .attr('text-anchor', 'end')\n      .attr('fill', 'grey')\n      .text(`Recall: ${0}`);\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', 0 - margin.top / 2)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .style('text-decoration', 'underline')\n      .text('Predictions for a Certain Genre');\n\n    const bars = g.selectAll('rect').data(initalData);\n    bars\n      .enter()\n      .append('rect')\n      .attr('class', 'enter')\n      .attr('fill', d => {\n        return continentColor(d.genre);\n      })\n      .attr('x', d => {\n        return xScale(d.genre);\n      })\n      .attr('y', d => yScale(0))\n      .attr('width', d => xScale.bandwidth())\n      .attr('height', d => height - yScale(0))\n      .on('mouseover', function(d) {\n        d3.select(this)\n          .transition()\n          .attr('width', 10 + xScale.bandwidth())\n          .attr('x', xScale(d.genre) - 5);\n\n        g.append('line')\n          .attr('x1', xScale(d.genre))\n          .attr('y1', yScale(d.value) + 1)\n          .attr('x2', xScale(d.genre))\n          .attr('y2', yScale(d.value) + 1)\n          .attr('stroke', 'white')\n          .attr('id', 'limit')\n          .style('stroke-dasharray', '1%')\n          .transition()\n          .attr('x1', 0)\n          .attr('x2', width);\n      })\n      .on('mouseout', function(d) {\n        d3.select(this)\n          .transition()\n          .attr('width', xScale.bandwidth())\n          .attr('x', xScale(d.genre));\n\n        d3.select('#limit').remove();\n      });\n\n    const valuesGroup = g.append('g');\n    valuesGroup\n      .selectAll('text')\n      .data(initalData)\n      .enter()\n      .append('text')\n      .attr('text-anchor', 'middle')\n      .attr('class', 'value')\n      .attr('x', d => xScale(d.genre) + xScale.bandwidth() / 2)\n      .attr('y', d => yScale(d.value) + 10)\n      .attr('fill', 'white')\n      .text(d => d.value);\n\n    return {\n      xScale,\n      yScale,\n      continentColor,\n      recallLabel,\n      precisionLabel,\n      g,\n      height,\n      valuesGroup,\n    };\n  }\n\n  updateBarChart = () => {\n    const {\n      xScale,\n      yScale,\n      continentColor,\n      recallLabel,\n      precisionLabel,\n      g,\n      height,\n      valuesGroup,\n    } = this.state.d3Info;\n    const { select } = this.state;\n    const dataRaw = this.state.data[select];\n    const data = this.cleanData(dataRaw, select);\n    const bars = g.selectAll('rect').data(data);\n    const values = valuesGroup.selectAll('text').data(data);\n\n    bars\n      .exit()\n      .attr('class', 'exit')\n      .remove();\n\n    bars\n      .enter()\n      .append('rect')\n      .attr('class', 'enter')\n      .attr('fill', d => continentColor(d.genre))\n      .merge(bars)\n      .transition()\n      .duration(720)\n      .attr('x', d => {\n        return xScale(d.genre);\n      })\n      .attr('y', d => yScale(d.value))\n      .attr('width', d => xScale.bandwidth())\n      .attr('height', d => height - yScale(d.value));\n\n    values\n      .exit()\n      .attr('class', 'exit')\n      .remove();\n\n    values\n      .enter()\n      .attr('fill', 'white')\n      .attr('class', 'value')\n      .append('text')\n      .merge(values)\n      .transition()\n      .duration(720)\n      .attr('x', d => {\n        return xScale(d.genre) + xScale.bandwidth() / 2;\n      })\n      .attr('y', d => yScale(d.value) - 10)\n      .text(d => {\n        // if (height - yScale(d.value) < 30) {\n        //   return '';\n        // }\n        return Math.round(d.value * 100) / 100;\n      });\n\n    let recall;\n    data.forEach(el => {\n      if (el.genre === select) {\n        recall = el.value;\n      }\n    });\n    recall = (Math.round(recall * 100) / 100).toString();\n    let precision = (\n      Math.round(this.state.precision[select] * 100) / 100\n    ).toString();\n    if (recall.length < 4) {\n      recall += '0';\n    }\n    if (precision.length < 4) {\n      precision += '0';\n    }\n    // const truePositiveCount = data[select].value;\n    recallLabel.text(`Recall: ${recall}`);\n    precisionLabel.text(`Precision: ${precision}`);\n  };\n  render() {\n    return (\n      <div className=\"chart\">\n        <div\n          style={{\n            color: 'black',\n            marginBottom: '20px',\n          }}\n        >\n          <Select\n            options={options}\n            onChange={this.handleChange}\n            defaultValue={{ value: 'classical', label: 'Classical' }}\n            theme={theme => ({\n              ...theme,\n              colors: {\n                ...theme.colors,\n                primary25: 'rgba(40, 44, 52, 0.25)',\n                primary75: 'rgba(40, 44, 52, 0.75)',\n                primary50: 'rgba(40, 44, 52, 0.50)',\n\n                primary: 'rgba(40, 44, 52, 0.5)',\n              },\n            })}\n          />\n        </div>\n        {/* <select onChange={this.handleChange}>\n          {genre.map(el => {\n            return (\n              <option key={el} value={el}>\n                {el}\n              </option>\n            );\n          })}\n        </select> */}\n        <div ref={node => (this.node = node)} />\n      </div>\n    );\n  }\n}\nexport default PredictionChart;\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport Select from 'react-select';\n\nconst genreArray = ['classical', 'jazz', 'reggae', 'rap', 'rock', 'dance'];\n\nconst features = [\n  'danceability',\n  'energy',\n  'acousticness',\n  'speechiness',\n  'valence',\n  'loudness',\n  'instrumentalness',\n  'tempo',\n  'end_of_fade_in',\n  'start_of_fade_out',\n  'tempo_confidence',\n  'liveness',\n  'time_signature_confidence',\n  'time_signature',\n];\n\nconst featureNames = [\n  'Danceability',\n  'Energy',\n  'Acousticness',\n  'Speechiness',\n  'Valence',\n  'Loudness',\n  'Instrumentalness',\n  'Tempo',\n  'End of Fade In',\n  'Start of Fade Out',\n  'Tempo Confidence',\n  'Liveness',\n  'Time Signature Confidence',\n  'Time Signature',\n];\n\nfunction hexToRgb(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\nexport default class HistogramChart extends Component {\n  state = {\n    data: {},\n    select: 'danceability',\n  };\n\n  componentDidMount() {\n    const d3Info = this.createLineChart();\n    this.setState({ data: this.props.data, d3Info });\n  }\n\n  componentDidUpdate() {\n    this.updateLineChart();\n  }\n\n  handleChange = evt => {\n    this.setState({ select: evt.value });\n  };\n\n  cleanData = (data, select) => {\n    const genres = Object.keys(data);\n    const output = {};\n    for (let i = 0; i < genres.length; i++) {\n      const genre = genres[i];\n      const y = data[genre].y;\n      const x = data[genre].x;\n      let genreData = [{ x: 0, y: 0 }];\n      if (select === 'loudness') {\n        genreData = [];\n      }\n      for (let j = 0; j < y.length; j++) {\n        const tempObj = {};\n        tempObj.y = y[j];\n        tempObj.x = x[j];\n        genreData.push(tempObj);\n      }\n      const allX = genreData.map(el => el.x);\n      genreData.push({ x: Math.max(...allX) + 0.05, y: 0 });\n      output[genres[i]] = genreData;\n    }\n    return output;\n  };\n\n  createLineChart = () => {\n    const { select } = this.state;\n    const node = this.node;\n    const t = d3.transition().duration(200);\n    const margin = { left: 55, right: 20, top: 50, bottom: 50 };\n    const width = 900 - margin.left - margin.right,\n      height = 540 - margin.top - margin.bottom;\n    const svg = d3\n      .select(node)\n      .classed('svg-container', true)\n      .append('svg')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', '0 0 900 540')\n      .classed('svg-content-responsive', true);\n    const g = svg\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n    const xScale = d3.scaleLinear().range([0, width]);\n    xScale.domain([0, 1]);\n    const yScale = d3.scaleLinear().range([height, 0]);\n    yScale.domain([0, 1]);\n    const continentColor = d3.scaleOrdinal(d3.schemePastel1);\n    const xAxisGroup = g\n      .append('g')\n      .attr('class', 'x axis')\n      .attr('transform', `translate(0, ${height})`);\n    const yAxisGroup = g.append('g').attr('class', 'y axis');\n    const xAxisCall = d3.axisBottom(xScale).tickFormat(d => d);\n    xAxisGroup.call(xAxisCall);\n    const yAxisCall = d3.axisLeft(yScale);\n    yAxisGroup.call(yAxisCall);\n\n    const xLabel = g\n      .append('text')\n      .attr('x', width / 2)\n      .attr('y', height + 40)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .text(select);\n    const yLabel = g\n      .append('text')\n      .attr('x', -(height / 2))\n      .attr('y', -40)\n      .attr('text-anchor', 'middle')\n      .attr('transform', 'rotate(-90)')\n      .attr('fill', 'grey')\n      .text('Percentage');\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', 0 - margin.top / 2)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .style('text-decoration', 'underline')\n      .text('Distribution for Genres');\n\n    const line = d3\n      .line()\n      .x(function(d) {\n        return xScale(d.x);\n      })\n      .y(function(d) {\n        return yScale(d.y);\n      })\n      .curve(d3.curveMonotoneX);\n    function drawLines() {\n      genreArray.forEach(el => {\n        g.append('path')\n          .datum({ x: [0, 1], y: [0, 1] })\n          .attr('fill', () => {\n            const colour = continentColor(el);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 0.5)`;\n          })\n          .attr('stroke', () => {\n            const colour = continentColor(el);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 0.8)`;\n          })\n          .attr('stroke-linejoin', 'round')\n          .attr('stroke-linecap', 'round')\n          .attr('stroke-width', 1.5)\n          .attr('d', line)\n          .attr('id', `line-${el}`)\n          .attr('class', 'genre-line')\n          .on('mouseover', function(d) {\n            d3.select(this).attr('stroke', () => {\n              const colour = continentColor(el);\n              const { r, g, b } = hexToRgb(colour);\n              return `rgba(${r}, ${g}, ${b}, 1)`;\n            });\n          })\n          .on('mouseout', function(d) {\n            d3.select(this).attr('stroke', () => {\n              const colour = continentColor(el);\n              const { r, g, b } = hexToRgb(colour);\n              return `rgba(${r}, ${g}, ${b}, 0.5)`;\n            });\n          })\n          .on('click', function(d) {\n            const thisGenre = this.id.replace('line-', '');\n            genreArray.forEach(el => {\n              if (el !== thisGenre) {\n                const path = d3.selectAll(`#line-${el}`);\n                const line = d3\n                  .line()\n                  .x(function(d) {\n                    return xScale(d.x);\n                  })\n                  .y(function(d) {\n                    return yScale(d.y);\n                  })\n                  .curve(d3.curveMonotoneX);\n                path\n                  .datum(d => {\n                    const numIterator = width / d.length;\n                    const newDatum = [];\n                    d.forEach((el, i) => {\n                      newDatum.push({ x: xScale(numIterator * i), y: 0 });\n                    });\n                    return newDatum;\n                  })\n                  .transition(t)\n                  .duration(750)\n                  .attr('d', line);\n              }\n            });\n          });\n      });\n    }\n    drawLines();\n\n    const legend = g\n      .append('g')\n      .attr('class', 'legend')\n      // .attr('x', width - 65)\n      // .attr('y', -10)\n      .attr('height', 100)\n      .attr('width', 100);\n\n    legend\n      .selectAll('rect')\n      .data(genreArray)\n      .enter()\n      .append('rect')\n      .attr('x', width - 35)\n      .attr('y', (d, i) => 25 + i * 10)\n      .attr('width', 5)\n      .attr('height', 5)\n      .style('fill', function(d) {\n        return continentColor(d);\n      });\n\n    legend\n      .selectAll('text')\n      .data(genreArray)\n      .enter()\n      .append('text')\n      .attr('fill', 'rgba(255,255,255,0.5)')\n      .attr('text-anchor', 'start')\n      .attr('x', width - 25)\n      .style('font-size', 12)\n      .attr('id', d => `legend-${d}`)\n      .attr('y', (d, i) => 30 + i * 10)\n      .text(function(d) {\n        return d;\n      })\n      .on('mouseover', function(d) {\n        d3.select(this).attr('fill', 'rgba(255,255,255,1)');\n        d3.select(`#line-${d}`)\n          .attr('stroke', () => {\n            const colour = continentColor(d);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 1)`;\n          })\n          .attr('fill', () => {\n            const colour = continentColor(d);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 0.8)`;\n          })\n          .style('stroke-width', 5);\n      })\n      .on('mouseout', function(d) {\n        d3.select(this).attr('fill', 'rgba(255,255,255,0.5)');\n        d3.select(`#line-${d}`)\n          .attr('stroke', () => {\n            const colour = continentColor(d);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 0.8)`;\n          })\n          .attr('fill', () => {\n            const colour = continentColor(d);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 0.5)`;\n          })\n          .style('stroke-width', 1.5);\n      });\n\n    return {\n      xScale,\n      yScale,\n      continentColor,\n      t,\n      g,\n      height,\n      xAxisGroup,\n      yAxisGroup,\n      xLabel,\n      yLabel,\n    };\n  };\n\n  updateLineChart = () => {\n    const {\n      xScale,\n      yScale,\n      g,\n      xAxisGroup,\n      yAxisGroup,\n      continentColor,\n      xLabel,\n    } = this.state.d3Info;\n    const { select, data } = this.state;\n    const dataFeature = data[select];\n    const dataClean = this.cleanData(dataFeature, select);\n\n    let xDomainArray = [];\n    let yDomainArray = [];\n    const genreKeys = Object.keys(dataFeature);\n    for (let k = 0; k < genreKeys.length; k++) {\n      xDomainArray = xDomainArray.concat(dataFeature[genreKeys[k]].x);\n      yDomainArray = yDomainArray.concat(dataFeature[genreKeys[k]].y);\n    }\n    const t = d3.transition().duration(200);\n    xScale.domain(\n      d3.extent(xDomainArray, function(d) {\n        return d;\n      })\n    );\n\n    yScale.domain(\n      d3.extent(yDomainArray, function(d) {\n        return d;\n      })\n    );\n    const xAxisCall = d3.axisBottom(xScale).tickFormat(d => {\n      return d;\n    });\n    const yAxisCall = d3.axisLeft(yScale).tickFormat(d => d);\n    yAxisGroup\n      .transition(t)\n      .duration(750)\n      .call(yAxisCall);\n    xAxisGroup\n      .transition(t)\n      .duration(750)\n      .call(xAxisCall);\n    const line = d3\n      .line()\n      .x(function(d) {\n        return xScale(d.x);\n      })\n      .y(function(d) {\n        return yScale(d.y);\n      })\n      .curve(d3.curveMonotoneX);\n    // featureLabel.text(select);\n    xLabel.text(select);\n    // g.transition();\n    function drawLines() {\n      const genreArray = Object.keys(dataClean);\n      genreArray.forEach(el => {\n        g.select(`#line-${el}`)\n          .datum(dataClean[el])\n          .attr('fill', () => {\n            const colour = continentColor(el);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 0.5)`;\n          })\n          .attr('stroke', () => {\n            const colour = continentColor(el);\n            const { r, g, b } = hexToRgb(colour);\n            return `rgba(${r}, ${g}, ${b}, 0.8)`;\n          })\n          .attr('stroke-linejoin', 'round')\n          .attr('stroke-linecap', 'round')\n          .on('mouseover', function(d) {\n            d3.select(`#legend-${el}`).attr('fill', 'rgba(255,255,255,1)');\n            d3.select(this)\n              .attr('stroke', () => {\n                const colour = continentColor(el);\n                const { r, g, b } = hexToRgb(colour);\n                return `rgba(${r}, ${g}, ${b}, 1)`;\n                // return 'rgba(0,0,0,0.8)';\n              })\n              .attr('fill', () => {\n                const colour = continentColor(el);\n                const { r, g, b } = hexToRgb(colour);\n                return `rgba(${r}, ${g}, ${b}, 0.8)`;\n              })\n              .style('stroke-width', 5);\n          })\n          .on('mouseout', function(d) {\n            d3.select(`#legend-${el}`).attr('fill', 'rgba(255,255,255,0.5)');\n            d3.select(this)\n              .attr('stroke', () => {\n                const colour = continentColor(el);\n                const { r, g, b } = hexToRgb(colour);\n                return `rgba(${r}, ${g}, ${b}, 0.8)`;\n              })\n              .attr('fill', () => {\n                const colour = continentColor(el);\n                const { r, g, b } = hexToRgb(colour);\n                return `rgba(${r}, ${g}, ${b}, 0.5)`;\n              })\n              .style('stroke-width', 1.5);\n          })\n          .transition(t)\n          .duration(750)\n          .attr('d', line);\n      });\n    }\n    drawLines();\n  };\n\n  render() {\n    const options = [];\n    features.map((el, idx) =>\n      options.push({ value: el, label: featureNames[idx] })\n    );\n\n    return (\n      <React.Fragment>\n        {/* <select onChange={this.handleChange}>\n      {features.map(el => (\n        <option key={el} value={el}>\n          {el}\n        </option>\n      ))}\n          </select> */}\n        <div className=\"chart\">\n          <div\n            style={{\n              color: 'black',\n              marginBottom: '20px',\n            }}\n          >\n            <Select\n              options={options}\n              onChange={this.handleChange}\n              // styles={customStyles}\n              defaultValue={{ value: 'danceability', label: 'Danceability' }}\n              theme={theme => ({\n                ...theme,\n                colors: {\n                  ...theme.colors,\n                  primary25: 'rgba(40, 44, 52, 0.25)',\n                  primary75: 'rgba(40, 44, 52, 0.75)',\n                  primary50: 'rgba(40, 44, 52, 0.50)',\n\n                  primary: 'rgba(40, 44, 52, 0.5)',\n                },\n              })}\n            />\n          </div>\n          <div\n            ref={node => (this.node = node)}\n            style={{ color: 'white', fontSize: '20px' }}\n          />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nconst featuresNameObj = {\n  danceability: 'Danceability',\n  energy: 'Energy',\n  acousticness: 'Acousticness',\n  speechiness: 'Speechiness',\n  valence: 'Valence',\n  loudness: 'Loudness',\n  instrumentalness: 'Instrumentalness',\n  tempo: 'Tempo',\n  end_of_fade_in: 'End of Fade-in',\n  start_of_fade_out: 'Start of Fade-out',\n  tempo_confidence: 'Tempo Confidence',\n  liveness: 'Liveness',\n  time_signature_confidence: 'Time Signature Confidence',\n  time_signature: 'Time Signature',\n};\n\nexport default class FeatureImportanceChart extends Component {\n  constructor(props) {\n    super(props);\n    this.createBarChart = this.createBarChart.bind(this);\n  }\n\n  componentDidMount() {\n    this.createBarChart(this.props.featureImportance);\n  }\n\n  createBarChart(dataRaw) {\n    const data = dataRaw.sort((a, b) => a.importance - b.importance);\n    data.forEach(el => {\n      el.importance = Math.round(el.importance * 100) / 100;\n    });\n    const features = data.map(el => el.feature);\n    const importance = data.map(el => Math.round(el.importance * 100) / 100);\n    const node = this.node;\n    const margin = { left: 200, right: 140, top: 50, bottom: 100 };\n    const width = 1200 - margin.left - margin.right,\n      height = 600 - margin.top - margin.bottom;\n    const g = d3\n      .select(node)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n    const yScale = d3\n      .scaleBand()\n      .domain(features)\n      .range([height, 0])\n      .padding(0.2);\n    const xScale = d3\n      .scaleLinear()\n      .domain([0, Math.max(...importance) + 0.01])\n      .range([0, width]);\n    const continentColor = d3.scaleOrdinal(d3.schemePastel1);\n    const xAxisGroup = g\n      .append('g')\n      .attr('class', 'x axis')\n      .style('font-size', '14')\n      .attr('transform', `translate(0, ${height})`);\n    const yAxisGroup = g\n      .append('g')\n      .attr('class', 'y axis')\n      .style('font-size', '14');\n    const xAxisCall = d3.axisBottom(xScale);\n    const yAxisCall = d3.axisLeft(yScale).tickFormat(d => {\n      return featuresNameObj[d];\n    });\n    yAxisGroup.call(yAxisCall);\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', height + 50)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .text('Relative Importance');\n    g.append('text')\n      .attr('x', -(height / 2))\n      .attr('y', -150)\n      .attr('text-anchor', 'middle')\n      .attr('transform', 'rotate(-90)')\n      .attr('fill', 'grey')\n      .text('Features');\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', 0 - margin.top / 2)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .style('text-decoration', 'underline')\n      .text(`Relative Feature Importance`);\n\n    const bars = g.selectAll('rect').data(data);\n    bars\n      .enter()\n      .append('rect')\n      .attr('class', 'enter')\n      .attr('fill', d => {\n        return continentColor(d.feature);\n      })\n      .attr('x', d => {\n        return xScale(0);\n      })\n      .attr('y', d => yScale(d.feature))\n      .attr('width', d => {\n        return xScale(d.importance);\n      })\n      .attr('height', d => yScale.bandwidth());\n\n    xAxisGroup.call(xAxisCall);\n    const valuesGroup = g.append('g');\n    valuesGroup\n      .selectAll('text')\n      .data(data)\n      .enter()\n      .append('text')\n      .attr('text-anchor', 'middle')\n      .attr('class', 'value')\n      .attr('x', d => {\n        return xScale(d.importance) + 32;\n      })\n      .attr('y', d => yScale(d.feature) + yScale.bandwidth() / 2 + 7)\n      .attr('fill', 'white')\n      .text(d => {\n        if (d.importance === 0) {\n          return '';\n        }\n        return Math.round(d.importance * 100) / 100;\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"chart feature-importance\">\n        <div ref={node => (this.node = node)} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { HisogramChart } from './';\n\nexport default function Intro(props) {\n  return (\n    <div className=\"center-all\" id=\"classification-content\">\n      <div>\n        <h1>Classifing Music Genre</h1>\n        <p>\n          Music genre is fluid, dynamic and ever evolving. I wanted to see if it\n          was possible to correctly classify music into predetermined genres\n          based on a limited set of features.\n        </p>\n      </div>\n      <div>\n        <h3>The Design</h3>\n        <p>\n          Pick six high-level genres to group songs. Then find a data source to\n          provide a sufficiant amount of song data for each genre. Once the data\n          has been aquired, train a random forest model. Then test the model on\n          a hold out dataset to appropriately tune hyperparameters.\n        </p>\n      </div>\n      <div>\n        <h3>The Data</h3>\n        <p>\n          The six geners chosen were classical, jazz, reggae, rap, rock, dance.\n          Using Spotify's API, 1000 songs were obtained for each genre. These\n          came from premade Spotify curated playlists. Spotify realeases many\n          different features for songs that include Danceability, Valence, Tempo\n          etc. These were then gathered and stored for the 6000 songs with genre\n          labels.\n          <br />\n          <br />\n          Below is a graph of the distrobutions for each feature across genres\n        </p>\n        <HisogramChart data={props.histogram} />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Description() {\n  return (\n    <div className=\"center-all\">\n      <div>\n        <h3>Algorithm</h3>\n        <p>\n          The model used is random forest provided by sklearn. There were a 100\n          trees in the forest with no max depth as well as max features being\n          the square of the number of features. The data was split into a 4:1\n          for test and train. This gave me the best accuracy score (there is no\n          class inbalance and thus is a good metric to gauge...) Other\n          algorithms tested were KNN and XGboost\n        </p>\n      </div>\n      <div>\n        <h3>Results</h3>\n        <p>\n          I looked at accuracy, as well as precision and recall for all genres.\n          The model did especially well with regards to Classical and Jazz\n          music. Interestingly it would get confused with only jazz music when\n          prediciting classical, however it was more broad when predicting jazz.\n          <br />\n          Graphed bellow represent how the model predicted for each genre with\n          the holdout test data.\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function DescriptionPart2() {\n  return (\n    <div className=\"center-all\">\n      <p>\n        The models feature importance showed that Dancablility gave the most\n        information to the model. In the histogram chart above one can notice\n        the seporation of each genre. Energy gave the second most information to\n        the model, however\n      </p>\n      <div>\n        <h3>Results</h3>\n        <p>\n          I looked at accuracy, as well as precision and recall for all genres.\n          The model did especially well with regards to Classical and Jazz\n          music. Interestingly it would get confused with only jazz music when\n          prediciting classical, however it was more broad when predicting jazz.\n          <br />\n          Graphed bellow represent how the model predicted for each genre with\n          the holdout test data.\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function DescriptionPart3() {\n  return (\n    <div className=\"center-all\">\n      <p>\n        Using Spotify's API you can search any song you like to test my model.\n        Remember in my model's world only six genres exist...\n      </p>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function SearchTrack(props) {\n  return (\n    <form onSubmit={props.handleSubmitSong}>\n      <label>Search for a song</label>\n      <br />\n      <input\n        name=\"songQuery\"\n        value={props.songQuery}\n        onChange={props.handleChange}\n        style={{ marginBottom: '40px' }}\n      />\n\n      <button type=\"submit\" value=\"Submit\" className=\"btn btn-dark\">\n        Submit\n      </button>\n    </form>\n  );\n}\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nconst genre = ['classical', 'dance', 'jazz', 'rap', 'reggae', 'rock'];\n\nclass TrackProbChart extends Component {\n  constructor(props) {\n    super(props);\n    this.createBarChart = this.createBarChart.bind(this);\n  }\n\n  async componentDidMount() {\n    try {\n      this.createBarChart();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  createBarChart() {\n    const { name } = this.props.track;\n    const artist = this.props.track.artists[0].name;\n    const node = this.node;\n    const margin = { left: 80, right: 20, top: 50, bottom: 100 };\n    const width = 1000 - margin.left - margin.right,\n      height = 600 - margin.top - margin.bottom;\n    const g = d3\n      .select(node)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n    const xScale = d3\n      .scaleBand()\n      .domain(genre)\n      .range([0, width])\n      .padding(0.2);\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, 1])\n      .range([height, 0]);\n    const continentColor = d3.scaleOrdinal(d3.schemePastel1);\n    const xAxisGroup = g\n      .append('g')\n      .attr('class', 'x axis')\n      .style('font-size', '14')\n      .attr('transform', `translate(0, ${height})`);\n    const yAxisGroup = g\n      .append('g')\n      .attr('class', 'y axis')\n      .style('font-size', '14');\n    const xAxisCall = d3.axisBottom(xScale).tickFormat(d => {\n      return d;\n    });\n    xAxisGroup.call(xAxisCall);\n    const yAxisCall = d3.axisLeft(yScale);\n    yAxisGroup.call(yAxisCall);\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', height + 50)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .text('Genre');\n    g.append('text')\n      .attr('x', -(height / 2))\n      .attr('y', -60)\n      .attr('text-anchor', 'middle')\n      .attr('transform', 'rotate(-90)')\n      .attr('fill', 'grey')\n      .text('Predicted Percentage');\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', 0 - margin.top / 2)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .style('text-decoration', 'underline')\n      .text(`The Genre Probability for ${name} by ${artist}`);\n\n    const bars = g.selectAll('rect').data(this.props.data);\n    bars\n      .enter()\n      .append('rect')\n      .attr('class', 'enter')\n      .attr('fill', d => {\n        return continentColor(d.genre);\n      })\n      .attr('x', d => {\n        return xScale(d.genre);\n      })\n      .attr('y', d => yScale(0))\n      .attr('width', d => xScale.bandwidth())\n      .attr('height', d => height - yScale(0))\n      .on('mouseover', function(d) {\n        d3.select(this)\n          .transition()\n          .attr('width', 10 + xScale.bandwidth())\n          .attr('x', xScale(d.genre) - 5);\n\n        g.append('line')\n          .attr('x1', xScale(d.genre))\n          .attr('y1', yScale(d.value) + 1)\n          .attr('x2', xScale(d.genre))\n          .attr('y2', yScale(d.value) + 1)\n          .attr('stroke', 'white')\n          .attr('id', 'limit')\n          .style('stroke-dasharray', '1%')\n          .transition()\n          .attr('x1', 0)\n          .attr('x2', width);\n      })\n      .on('mouseout', function(d) {\n        d3.select(this)\n          .transition()\n          .attr('width', xScale.bandwidth())\n          .attr('x', xScale(d.genre));\n\n        d3.select('#limit').remove();\n      })\n      .transition()\n      .duration(720)\n      .attr('x', d => {\n        return xScale(d.genre);\n      })\n      .attr('y', d => yScale(d.value))\n      .attr('width', d => xScale.bandwidth())\n      .attr('height', d => height - yScale(d.value));\n\n    const valuesGroup = g.append('g');\n    valuesGroup\n      .selectAll('text')\n      .data(this.props.data)\n      .enter()\n      .append('text')\n      .attr('text-anchor', 'middle')\n      .attr('class', 'value')\n      .attr('x', d => {\n        return xScale(d.genre) + xScale.bandwidth() / 2;\n      })\n      .attr('y', d => yScale(d.value) + 10)\n      .attr('fill', 'white')\n      .text(d => d.value)\n      .transition()\n      .duration(720)\n      .attr('x', d => {\n        return xScale(d.genre) + xScale.bandwidth() / 2;\n      })\n      .attr('y', d => {\n        return yScale(d.value) - 10;\n      })\n      .text(d => {\n        return Math.round(d.value * 100) / 100;\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"chart probs\">\n        <div ref={node => (this.node = node)} />\n      </div>\n    );\n  }\n}\nexport default TrackProbChart;\n","import React from 'react';\n\nexport default function TrackProfile(props) {\n  let { uri, name } = props;\n  let artist = props.artists[0].name;\n  const albumImageURI = props['album']['images'][0]['url'];\n  if (name.length > 17) {\n    name = name.slice(0, 17) + '...';\n  }\n  if (artist.length > 17) {\n    artist = artist.slice(0, 17) + '...';\n  }\n\n  return (\n    <div\n      className=\"artist-profile\"\n      onClick={() =>\n        props.handleClick(uri, {\n          name,\n          artists: [{ name: artist }],\n          album: { images: [{ url: albumImageURI }] },\n        })\n      }\n    >\n      <img className=\"artist-img\" src={albumImageURI} alt=\"\" />\n      <div className=\"artist-container\">\n        <div>{name}</div>\n        <div className=\"artist-name\">{artist}</div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { SearchTrack, TrackProfile, TrackProbChart } from '.';\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      songQuery: '',\n      tracks: [],\n      probs: [],\n    };\n  }\n\n  handleSubmitSong = async event => {\n    event.preventDefault();\n    try {\n      const { songQuery } = this.state;\n      const songQueryURI = encodeURIComponent(songQuery);\n      const response = await fetch(`/api/search?query=${songQueryURI}`);\n      const tracks = await response.json();\n      this.setState({ songQuery: '', tracks, selected: {}, probs: [] });\n    } catch (err) {\n      this.setState({ message: 'error' });\n      console.log(err.message);\n    }\n  };\n\n  handleChange = evt => {\n    this.setState({ [evt.target.name]: evt.target.value });\n  };\n\n  handleClick = async (uri, selected) => {\n    const response = await fetch(`/api/data?uri=${uri}`);\n    const data = await response.json();\n    this.setState({\n      message: data.message,\n      tracks: [],\n      selected,\n      probs: data.probs,\n      trackInfo: data.track_info,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"center-all\" id=\"search-form\">\n        <SearchTrack\n          {...this.state}\n          handleChange={this.handleChange}\n          handleSubmitSong={this.handleSubmitSong}\n        />\n        <div id=\"profile-container\">\n          {this.state.tracks.map(track => {\n            return (\n              <TrackProfile\n                key={track.uri}\n                {...track}\n                handleClick={this.handleClick}\n              />\n            );\n          })}\n        </div>\n        {this.state.probs.length ? (\n          <TrackProbChart data={this.state.probs} track={this.state.selected} />\n        ) : (\n          <div />\n        )}\n      </div>\n    );\n  }\n}\n","import {\n  PredictionChart,\n  HisogramChart,\n  FeatureImportanceChart,\n  Intro,\n  Description,\n  DescriptionPart2,\n  Search,\n  DescriptionPart3,\n} from '.';\nimport React, { Component } from 'react';\n\nexport default class Classification extends Component {\n  state = {};\n  async componentDidMount() {\n    try {\n      const response = await fetch('/api/classification');\n      const data = await response.json();\n      const { featureImportance, histogram, precision, wrongPrediction } = data;\n      this.setState({\n        featureImportance,\n        histogram,\n        precision,\n        wrongPrediction,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  render() {\n    return (\n      <div style={{ paddingBottom: '100px' }}>\n        {this.state.histogram ? (\n          <Intro histogram={this.state.histogram} />\n        ) : (\n          <div>Loading</div>\n        )}\n        <Description />\n        <div className=\"center-all charts\">\n          {this.state.wrongPrediction ? (\n            <PredictionChart\n              data={this.state.wrongPrediction}\n              precision={this.state.precision}\n            />\n          ) : (\n            <div>Loading</div>\n          )}\n        </div>\n        <DescriptionPart2 />\n        <div className=\"center-all charts\">\n          {this.state.featureImportance ? (\n            <FeatureImportanceChart\n              featureImportance={this.state.featureImportance}\n            />\n          ) : (\n            <div>Loading</div>\n          )}\n        </div>\n        <DescriptionPart3 />\n        <Search />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { TopicChart, Word2VecChart, ComparingScore } from './';\n\nexport default class Pitchfork extends Component {\n  render() {\n    return (\n      <div>\n        <TopicChart />\n        <ComparingScore />\n        <Word2VecChart />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nexport default class TopicChart extends Component {\n  state = {\n    data: [],\n  };\n\n  async componentDidMount() {\n    try {\n      const res = await fetch('/api/topicgenre');\n      const data = await res.json();\n      this.setState({ data });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  componentDidUpdate() {\n    this.createBars(this.state.data);\n  }\n\n  createBars = rawData => {\n    const node = this.node;\n    const formatData = data => {\n      const output = [];\n      const topics = Object.keys(data);\n      for (let i = 0; i < topics.length; i++) {\n        const row = data[topics[i]];\n        row.genre = topics[i];\n        output.push(row);\n      }\n      output.forEach(row => {\n        let sum = row['Opinion/Interpretation'];\n        row.Sound += sum;\n        sum = row.Sound;\n        row['History/Context'] += sum;\n        sum = row['History/Context'];\n        row.Artist += sum;\n      });\n      return output;\n    };\n\n    const data = formatData(rawData);\n    data.sort(\n      (a, b) => b['Opinion/Interpretation'] - a['Opinion/Interpretation']\n    );\n\n    const topics = [\n      'Artist',\n      'History/Context',\n      'Sound',\n      'Opinion/Interpretation',\n    ];\n    const genres = data.map(el => el.genre);\n    const margin = { left: 80, right: 100, top: 50, bottom: 100 };\n    const width = 1000 - margin.left - margin.right,\n      height = 600 - margin.top - margin.bottom;\n\n    // Creating Canvas\n    const g = d3\n      .select(node)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Creating Labels\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', height + 50)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .text('Genre');\n    g.append('text')\n      .attr('x', -(height / 2))\n      .attr('y', -60)\n      .attr('text-anchor', 'middle')\n      .attr('transform', 'rotate(-90)')\n      .attr('fill', 'grey')\n      .text('Predicted Percentage');\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', 0 - margin.top / 2)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .style('text-decoration', 'underline')\n      .text('Topics by Genre');\n\n    // Creating Scales\n    const xScale = d3\n      .scaleBand()\n      .domain(genres)\n      .range([0, width])\n      .padding(0.2);\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, 1])\n      .range([height, 0]);\n    const continentColor = d3.scaleOrdinal(d3.schemePastel1);\n\n    // Creating Axis\n    const xAxisGroup = g\n      .append('g')\n      .attr('class', 'x axis')\n      .style('font-size', '14')\n      .attr('transform', `translate(0, ${height})`);\n    const yAxisGroup = g\n      .append('g')\n      .attr('class', 'y axis')\n      .style('font-size', '14');\n    const xAxisCall = d3.axisBottom(xScale).tickFormat(d => d);\n    xAxisGroup.call(xAxisCall);\n    const yAxisCall = d3.axisLeft(yScale);\n    yAxisGroup.call(yAxisCall);\n\n    // Creating Bars for Sound\n\n    topics.forEach(topic => {\n      const bars = g\n        .append('g')\n        .selectAll('rect')\n        .data(data);\n      bars\n        .enter()\n        .append('rect')\n        .attr('class', 'enter')\n        .attr('fill', (d, i) => {\n          return continentColor(topic);\n        })\n        .attr('x', d => {\n          return xScale(d.genre);\n        })\n        .attr('y', d => {\n          return yScale(d[topic]);\n        })\n        .attr('width', d => xScale.bandwidth())\n        .attr('height', d => {\n          return height - yScale(d[topic]);\n        })\n        .on('mouseover', function(d) {\n          if (topic === 'History/Context') {\n            topic = 'History';\n          }\n          if (topic === 'Opinion/Interpretation') {\n            topic = 'Opinion';\n          }\n          const colorBlock = d3.select(`#legend-${topic}`);\n          colorBlock.attr('fill', 'white');\n        })\n        .on('mouseout', function(d) {\n          const colorBlock = d3.select(`#legend-${topic}`);\n          colorBlock.attr('fill', 'rgba(255,255,255,0.5)');\n        });\n    });\n\n    const legend = g\n      .append('g')\n      .attr('class', 'legend-pitchfork')\n      .attr('height', 100)\n      .attr('width', 100);\n\n    legend\n      .selectAll('rect')\n      .data(topics)\n      .enter()\n      .append('rect')\n      .attr('x', width - 10)\n      .attr('y', (d, i) => 22 + i * 10)\n      .attr('width', 5)\n      .attr('height', 8)\n      .style('fill', function(d) {\n        return continentColor(d);\n      });\n\n    legend\n      .selectAll('text')\n      .data(topics)\n      .enter()\n      .append('text')\n      .attr('fill', 'rgba(255,255,255,0.5)')\n      .attr('text-anchor', 'start')\n      .attr('x', width - 0)\n      .style('font-size', 12)\n      .attr('id', d => {\n        if (d === 'History/Context') {\n          d = 'History';\n        }\n        if (d === 'Opinion/Interpretation') {\n          d = 'Opinion';\n        }\n        return `legend-${d}`;\n      })\n      .attr('y', (d, i) => 30 + i * 10)\n      .text(function(d) {\n        return d;\n      });\n  };\n\n  render() {\n    return <div className=\"pitchfork-chart\" ref={node => (this.node = node)} />;\n  }\n}\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nexport default class Word2VecChart extends Component {\n  state = {\n    data: [],\n    previousData: [],\n    searchTerm: 'kanyewest',\n  };\n\n  async componentDidMount() {\n    try {\n      const res = await fetch(`/api/word2vec?word=${this.state.searchTerm}`);\n      const data = await res.json();\n      const d3Stuff = this.createScatterPlot();\n      this.setState({ data, d3Stuff });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async componentDidUpdate() {\n    try {\n      const res = await fetch(`/api/word2vec?word=${this.state.searchTerm}`);\n      const data = await res.json();\n      this.updateScatterPlot(data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  handleChange = evt => {\n    this.setState({ [evt.target.name]: evt.target.value });\n  };\n\n  // handleSubmit = evt => {\n  //   evt.preventDefault()\n  //   this.setState({searchTerm: })\n  // }\n\n  createScatterPlot = () => {\n    const node = this.node;\n    const margin = { left: 80, right: 20, top: 100, bottom: 100 };\n    const width = 1000 - margin.left - margin.right,\n      height = 600 - margin.top - margin.bottom;\n    const t = d3.transition().duration(2000);\n\n    // Creating Canvas\n\n    const g = d3\n      .select(node)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Creating Labels\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', 0 - margin.top / 2)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .style('text-decoration', 'underline')\n      .text('Similar Words');\n\n    // Creating Scales\n    const xScale = d3\n      .scaleLinear()\n      .domain([0, 1])\n      .range([0, width]);\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, 1])\n      .range([height, 0]);\n    const continentColor = d3.scaleOrdinal(d3.schemePastel1);\n\n    // Creating Axis\n    const xAxisGroup = g\n      .append('g')\n      .attr('class', 'x axis')\n      .style('font-size', '14')\n      .attr('transform', `translate(0, ${height})`);\n    const yAxisGroup = g\n      .append('g')\n      .attr('class', 'y axis')\n      .style('font-size', '14');\n    const xAxisCall = d3.axisBottom(xScale).tickFormat(d => d);\n    // xAxisGroup.call(xAxisCall);\n    const yAxisCall = d3.axisLeft(yScale);\n    // yAxisGroup.call(yAxisCall);\n\n    // const circles = g.append('g').selectAll('circle');\n\n    const labels = g\n      .append('g')\n      .selectAll('text')\n      .attr('class', 'labels');\n\n    return {\n      xScale,\n      yScale,\n      continentColor,\n      t,\n      xAxisCall,\n      yAxisCall,\n      g,\n      height,\n      xAxisGroup,\n      yAxisGroup,\n      // circles,\n      labels,\n    };\n  };\n\n  updateScatterPlot = data => {\n    const { g, t, xScale, yScale, height } = this.state.d3Stuff;\n    let ys = [];\n    let xs = [];\n    let labelsArr = [];\n    data.forEach(point => {\n      ys.push(point.y);\n      xs.push(point.x);\n      labelsArr.push(point.label);\n    });\n    const xMax = d3.max(data, d => d.x);\n    const yMax = d3.max(data, d => d.y);\n    const xMin = d3.min(data, d => d.x);\n    const yMin = d3.min(data, d => d.y);\n    if (xMax > 200) {\n      xs.splice(xs.indexOf(xMax), 1);\n      data.splice(xs.indexOf(xMax), 1);\n    }\n\n    if (yMax > 200) {\n      ys.splice(ys.indexOf(yMax), 1);\n      data.splice(ys.indexOf(yMax), 1);\n    }\n    if (xMin < -200) {\n      xs.splice(xs.indexOf(xMin), 1);\n      data.splice(xs.indexOf(xMin), 1);\n    }\n    if (yMin < -200) {\n      ys.splice(ys.indexOf(yMin), 1);\n      data.splice(ys.indexOf(yMin), 1);\n    }\n\n    xScale.domain(d3.extent(xs, d => d));\n    // calling xAxis\n    d3.axisBottom(xScale);\n    // xAxisGroup\n    //   .transition(t)\n    //   .duration(750)\n    //   .call(xAxisCall);\n\n    // yScale.domain(d3.extent(ys, d => d));\n    yScale.domain(d3.extent(ys, d => d));\n    // Calling yAxis\n    d3.axisLeft(yScale);\n    // yAxisGroup\n    //   .transition(t)\n    //   .duration(750)\n    //   .call(yAxisCall);\n\n    // const circles = g.selectAll('circle').data(data, function(d) {\n    //   return d.label;\n    // });\n\n    // // EXIT old elements not present in new data.\n    // circles\n    //   .exit()\n    //   .attr('class', 'exit')\n    //   .transition(t)\n    //   .duration(2000)\n    //   .attr('cy', height)\n    //   .remove();\n\n    // // ENTER new elements present in new data.\n    // circles\n    //   .enter()\n    //   .append('circle')\n    //   .attr('class', 'enter')\n    //   .attr('fill', 'white')\n    //   .merge(circles)\n    //   .transition(t)\n    //   .duration(2000)\n    //   .attr('cy', function(d) {\n    //     return yScale(d.y);\n    //   })\n    //   .attr('cx', function(d) {\n    //     return xScale(d.x);\n    //   })\n    //   .attr('r', function(d) {\n    //     // return Math.sqrt(area(d.population) / Math.PI);\n    //     return 5;\n    //   });\n\n    const labels = g.selectAll('.labels').data(data, function(d) {\n      return d.label;\n    });\n    labels\n      .exit()\n      .transition(t)\n      .duration(2000)\n      .attr('y', 400 + height)\n      .attr('class', 'exit')\n      .remove();\n\n    labels\n      .enter()\n      .append('text')\n      .on('click', d => {\n        this.setState({ searchTerm: d.label });\n      })\n      .attr('class', 'labels')\n      .attr('text-anchor', 'middle')\n      .attr('x', d => xScale(d.x))\n      .attr('y', d => -200)\n      .merge(labels)\n      .transition(t)\n      .duration(2000)\n      .attr('x', d => xScale(d.x))\n      .attr('y', d => yScale(d.y))\n      .attr('fill', (d, i) => {\n        if (i === 0) {\n          return 'red';\n        }\n        return 'white';\n      })\n      .text(d => {\n        if (d.label === 'z') {\n          return 'jay-z';\n        }\n        return d.label;\n      });\n  };\n\n  render() {\n    return (\n      <div style={{ paddingTop: '30vh' }}>\n        <select name=\"searchTerm\" onChange={this.handleChange}>\n          <option value=\"kanyewest\">Kanye West</option>\n          <option value=\"soul\">Soul</option>\n          <option value=\"metal\">Metal</option>\n          <option value=\"jazz\">Jazz</option>\n          <option value=\"blues\">Blues</option>\n          <option value=\"drake\">Drake</option>\n          <option value=\"ledzeppelin\">Led Zeppelin</option>\n          <option value=\"arianagrande\">Ariana Grande</option>\n          <option value=\"bobdylan\">Bob Dylan</option>\n          <option value=\"grunge\">Grunge</option>\n          <option value=\"johnnycash\">Johnny Cash</option>\n          <option value=\"muramasa\">Masa Mura</option>\n          <option value=\"amywinehouse\">Amy Winehouse</option>\n          <option value=\"davidbowie\">David Bowie</option>\n          <option value=\"brucespringsteen\">Bruce Springsteen</option>\n          <option value=\"britpop\">Brit Pop</option>\n          <option value=\"keane\">Keane</option>\n        </select>\n        <div className=\"pitchfork-chart\" ref={node => (this.node = node)} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nexport default class ComparingScore extends Component {\n  state = {\n    data: [],\n  };\n\n  async componentDidMount() {\n    try {\n      const res = await fetch(`/api/comparingscore`);\n      const data = await res.json();\n      this.setState({ data });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  componentDidUpdate() {\n    this.createBars(this.state.data);\n  }\n\n  createBars = rawData => {\n    const node = this.node;\n    const formatData = data => {\n      // const output = [];\n      // const topics = [\n      //   'Artist',\n      //   'History/Context',\n      //   'Sound',\n      //   'Opinion/Interpretation',\n      // ];\n      data.forEach(row => {\n        let sum = row['Opinion/Interpretation'];\n        row.Sound += sum;\n        sum = row.Sound;\n        row['History/Context'] += sum;\n        sum = row['History/Context'];\n        row.Artist += sum;\n      });\n      return data;\n    };\n    const data = formatData(this.state.data);\n    const topics = [\n      'Artist',\n      'History/Context',\n      'Sound',\n      'Opinion/Interpretation',\n    ];\n    // const genres = data.map(el => el.genre);\n    const margin = { left: 80, right: 100, top: 50, bottom: 100 };\n    const width = 1000 - margin.left - margin.right,\n      height = 600 - margin.top - margin.bottom;\n\n    // Creating Canvas\n    const g = d3\n      .select(node)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Creating Labels\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', height + 50)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .text('Genre');\n    g.append('text')\n      .attr('x', -(height / 2))\n      .attr('y', -60)\n      .attr('text-anchor', 'middle')\n      .attr('transform', 'rotate(-90)')\n      .attr('fill', 'grey')\n      .text('Predicted Percentage');\n\n    g.append('text')\n      .attr('x', width / 2)\n      .attr('y', 0 - margin.top / 2)\n      .attr('text-anchor', 'middle')\n      .attr('fill', 'grey')\n      .style('text-decoration', 'underline')\n      .text('How Topics with Exream Scores Differ');\n    const types = this.state.data.map(el => el.type);\n    // Creating Scales\n    const xScale = d3\n      .scaleBand()\n      .domain(types)\n      .range([0, width])\n      .padding(0.2);\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, 1])\n      .range([height, 0]);\n    const continentColor = d3.scaleOrdinal(d3.schemePastel1);\n\n    // Creating Axis\n    const xAxisGroup = g\n      .append('g')\n      .attr('class', 'x axis')\n      .style('font-size', '14')\n      .attr('transform', `translate(0, ${height})`);\n    const yAxisGroup = g\n      .append('g')\n      .attr('class', 'y axis')\n      .style('font-size', '14');\n    const xAxisCall = d3.axisBottom(xScale).tickFormat(d => {\n      return d;\n    });\n    xAxisGroup.call(xAxisCall);\n    const yAxisCall = d3.axisLeft(yScale);\n    yAxisGroup.call(yAxisCall);\n\n    // Creating Bars for Sound\n\n    topics.forEach(topic => {\n      const bars = g\n        .append('g')\n        .selectAll('rect')\n        .data(data);\n      bars\n        .enter()\n        .append('rect')\n        .attr('class', 'enter')\n        .attr('fill', (d, i) => {\n          return continentColor(topic);\n        })\n        .attr('x', d => {\n          return xScale(d.type);\n        })\n        .attr('y', d => {\n          return yScale(d[topic]);\n        })\n        .attr('width', d => xScale.bandwidth())\n        .attr('height', d => {\n          return height - yScale(d[topic]);\n        })\n        .on('mouseover', function(d) {\n          if (topic === 'History/Context') {\n            topic = 'History';\n          }\n          if (topic === 'Opinion/Interpretation') {\n            topic = 'Opinion';\n          }\n          const colorBlock = d3.select(`#legend-${topic}1`);\n          colorBlock.attr('fill', 'white');\n        })\n        .on('mouseout', function(d) {\n          const colorBlock = d3.select(`#legend-${topic}1`);\n          colorBlock.attr('fill', 'rgba(255,255,255,0.5)');\n        });\n    });\n\n    const legend = g\n      .append('g')\n      .attr('class', 'legend-pitchfork')\n      .attr('height', 100)\n      .attr('width', 100);\n\n    legend\n      .selectAll('rect')\n      .data(topics)\n      .enter()\n      .append('rect')\n      .attr('x', width - 10)\n      .attr('y', (d, i) => 22 + i * 10)\n      .attr('width', 5)\n      .attr('height', 8)\n      .style('fill', function(d) {\n        return continentColor(d);\n      });\n\n    legend\n      .selectAll('text')\n      .data(topics)\n      .enter()\n      .append('text')\n      .attr('fill', 'rgba(255,255,255,0.5)')\n      .attr('text-anchor', 'start')\n      .attr('x', width - 0)\n      .style('font-size', 12)\n      .attr('id', d => {\n        if (d === 'History/Context') {\n          d = 'History';\n        }\n        if (d === 'Opinion/Interpretation') {\n          d = 'Opinion';\n        }\n        return `legend-${d}1`;\n      })\n      .attr('y', (d, i) => 30 + i * 10)\n      .text(function(d) {\n        return d;\n      });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"pitchfork-chart\"\n        ref={node => (this.node = node)}\n        style={{ paddingTop: '30vh', paddingBottom: '15vh' }}\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class FinalProject extends Component {\n  state = {\n    songs: [],\n    uploading: false,\n    songsData: [],\n    playlist: [],\n  };\n\n  async componentDidMount() {\n    const res = await fetch('/api/songs');\n    console.log('response', res);\n    const data = await res.json();\n    this.setState({ songsData: data });\n  }\n\n  handleChange = evt => {\n    this.setState({ uploading: true });\n    const file = evt.target.files[0];\n    // <----- Look here ----->\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = evt => {\n      const formData = {\n        file: evt.target.result,\n      };\n      fetch('/api/upload', {\n        method: 'POST',\n        body: JSON.stringify(formData),\n      })\n        .then(res => {\n          return res.json();\n        })\n        .then(data => {\n          this.setState({ songs: data });\n        });\n    };\n  };\n\n  handleSubmit = evt => {\n    evt.preventDefault();\n  };\n\n  handleClick = async idx => {\n    const res = await fetch(`/api/playlist?idx=${idx}`);\n    console.log('clicked', res);\n    const data = await res.json();\n    this.setState({ playlist: data });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1 style={{ paddingTop: 100 }}>FinalProject</h1>\n        <audio ref=\"audio_tag\" src=\"/music/test.mp3\" controls />\n        {/* <form onSubmit={this.handleSubmit}>\n          <input type=\"file\" name=\"song\" onChange={this.handleChange} />\n          <input type=\"submit\" value=\"Upload File\" />\n        </form> */}\n        {this.state.songs.map(el => {\n          const [artist, song] = el\n            .split('-->ARITST<--')[1]\n            .split('-->SONG<--');\n          return (\n            <div>\n              Artist: {artist}, Song: {song.replace('_H.png', '')}\n            </div>\n          );\n        })}\n        <div>\n          {this.state.playlist.length ? (\n            <div>\n              <h3>PLAYLIST</h3>\n              {this.state.playlist.map((el, idx) => {\n                const [artist, song] = el\n                  .split('-->ARITST<--')[1]\n                  .split('-->SONG<--');\n                return (\n                  <div onClick={() => this.handleClick(idx)}>\n                    Artist: {artist}, Song: {song.replace('_H.png', '')}\n                  </div>\n                );\n              })}\n              <h3>PLAYLIST</h3>\n            </div>\n          ) : (\n            <div />\n          )}\n        </div>\n        <div>\n          {this.state.songsData.map((el, idx) => {\n            const [artist, song] = el\n              .split('-->ARITST<--')[1]\n              .split('-->SONG<--');\n            return (\n              <div onClick={() => this.handleClick(idx)}>\n                Artist: {artist}, Song: {song.replace('_H.png', '')}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport { NavBar, Home, FinalProject, Classification } from './Components';\nimport PitchFork from './Components/Pitchfork';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <NavBar />\n          <div id=\"content\">\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/classification\" component={Classification} />\n            <Route exact path=\"/pitchfork\" component={PitchFork} />\n            <Route exact path=\"/finalProject\" component={FinalProject} />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}